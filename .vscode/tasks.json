{
  "version": "2.0.0",
  "inputs": [
    {
      "id": "exchangeName",
      "description": "Exchange name to build (e.g., polymarket, bisq)",
      "default": "polymarket",
      "type": "promptString"
    }
  ],
  "tasks": [
    {
      "label": "Setup PYTHONPATH",
      "type": "shell",
      "command": "echo 'PYTHONPATH configuration defined in task options.env'",
      "options": {
        "env": {
          "PYTHONPATH": "${env:PYTHONPATH}:${workspaceFolder}/OctoBot/packages/async_channel:${workspaceFolder}/OctoBot/packages/tentacles_manager:${workspaceFolder}/OctoBot/packages/commons:${workspaceFolder}/OctoBot/packages/trading:${workspaceFolder}/OctoBot/packages/backtesting:${workspaceFolder}/OctoBot/packages/evaluators:${workspaceFolder}/OctoBot/packages/services:${workspaceFolder}/OctoBot/packages/trading_backend:${workspaceFolder}/OctoBot/packages/agents:${workspaceFolder}/OctoBot:${env:PYTHONPATH}"
        }
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "silent",
        "panel": "shared"
      }
    },
    {
      "label": "CCXT: Build exchange python",
      "type": "shell",
      "command": "nvm use 24 && npm run export-exchanges && npm run tsBuild && npm run emitAPIPy && npm run transpileRest ${input:exchangeName} && npm run transpileWs ${input:exchangeName}",
      "options": {
        "cwd": "${workspaceFolder}/ccxt"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "silent",
        "panel": "shared"
      }
    },
    {
      "label": "generate-tentacles-zip",
      "type": "shell",
      "command": "${workspaceFolder}/venv/bin/python start.py tentacles -p tentacles_default_export.zip -d packages/tentacles",
      "dependsOn": ["Setup PYTHONPATH"],
      "options": {
        "cwd": "${workspaceFolder}/OctoBot",
        "env": {
          "PYTHONPATH": "${env:PYTHONPATH}:${workspaceFolder}/OctoBot/packages/async_channel:${workspaceFolder}/OctoBot/packages/tentacles_manager:${workspaceFolder}/OctoBot/packages/commons:${workspaceFolder}/OctoBot/packages/trading:${workspaceFolder}/OctoBot/packages/backtesting:${workspaceFolder}/OctoBot/packages/evaluators:${workspaceFolder}/OctoBot/packages/services:${workspaceFolder}/OctoBot/packages/trading_backend:${workspaceFolder}/OctoBot/packages/agents:${workspaceFolder}/OctoBot:${env:PYTHONPATH}"
        }
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      }
    }
  ]
}

